# ðŸ”§ Stream Wrench

Toolbox for stream manipulation.

## StreamChopper

Implements a NodeJS Readable stream and consumes all written data.

### API

```js
const chopper = new StreamChopper();
```

#### Method: readUntil(delimiter)

```js
const data = await chopper.readUntil(delimiter);
```

Reads from the input stream until the *String* or *Buffer* `delimiter` is found and returns all data that has been received until the occurrence of delimiter without the delimiter itself. The delimiter is also consumed.

#### Method: seekUntil(delimiter)

```js
await chopper.seekUntil(delimiter);
```

Like `readUntil()` but drops all read data.

### Example

Read lines from a text file:

```js
import StreamChopper from 'stream-wrench/stream-chopper';
import {createReadStream} from 'node:fs';

// Open a text file generated by this shell call:
// echo -e "Knock knock!\nNeutrino\nHow's there?" >joke.txt
const src = createReadStream('./joke.txt');

const chopper = new StreamChopper();

src.pipe(chopper);

// Read the first line. Outputs: "Knock knock!"
const firstLine = await chopper.readUntil('\n');
console.log(firstLine.toString());

// Skip the second line.
await chopper.seekUntil('\n');

// Read the third line. Outputs: "How's there?"
const thirdLine = await chopper.readUntil('\n');
console.log(thirdLine.toString());
```
